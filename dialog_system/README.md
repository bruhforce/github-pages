# Система хранения диалогов

Эта система представляет собой простой подход к работе с языковыми моделями, основанный на хранении и организации диалогов в формате Markdown.

## Возможности

- Создание и хранение диалогов в формате Markdown
- Создание контрольных точек в диалогах
- Разветвление диалогов из контрольных точек
- Простая организация и навигация по диалогам

## Структура

- `dialogs/` - Директория для хранения диалогов
- `checkpoints/` - Директория для хранения контрольных точек
- `utils/` - Утилиты для работы с диалогами

## Использование

### Создание нового диалога

```python
from dialog_system.utils.dialog_manager import DialogManager

manager = DialogManager()

# Создаем новый диалог
dialog_path = manager.create_dialog(
    "Название диалога", 
    "Системный промпт (опционально)"
)

# Добавляем сообщения
manager.add_message(dialog_path, "user", "Сообщение пользователя")
manager.add_message(dialog_path, "assistant", "Ответ ассистента")
```

### Создание контрольной точки

```python
# Создаем контрольную точку
checkpoint_path = manager.create_checkpoint(dialog_path, "название_контрольной_точки")
```

### Создание ветки из контрольной точки

```python
# Создаем ветку из контрольной точки
branch_path = manager.branch_from_checkpoint(checkpoint_path, "название_ветки")

# Добавляем сообщения в новую ветку
manager.add_message(branch_path, "user", "Новое сообщение в ветке")
```

## Формат диалогов

Диалоги хранятся в формате Markdown и имеют следующую структуру:

```markdown
# Название диалога

Dialog ID: уникальный_идентификатор
Created: дата_создания

## Системный промпт

Текст системного промпта

## Диалог

**user**: Сообщение пользователя

**assistant**: Ответ ассистента
```

## Преимущества подхода

- Простота использования и понимания
- Наглядное представление диалогов
- Возможность легко делиться диалогами
- Удобное создание разветвлений для экспериментов

